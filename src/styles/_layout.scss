@import './vars';
@import './mixins';
@import './import_once';
@import './animation';

@include exports('lineupengine') {
  #{$engine_selector} {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    align-content: stretch;
    overflow-x: auto;

    > header {
      flex: 0 0 auto;
      overflow-x: hidden;
      margin-bottom: 3px;

      > :last-child {
        margin-right: 5px; // scroll bar?
      }
    }

    > main {
      flex: 1 1 auto;
      overflow-y: auto;
    }

    > header,
    > main {
      display: flex;
      flex-direction: row;
      align-items: stretch;
      justify-content: stretch;

      > * {
        flex: 0 0 auto;
      }
    }

    > header > article,
    > main > article > div {
      display: grid;
      grid-auto-flow: column;
      align-items: stretch;
      justify-items: stretch;

      > * {
        overflow: hidden;
        text-overflow: ellipsis;

        &.frozen {
          position: sticky;
          left: 0;
          background-color: white;
          z-index: 1;
        }
      }
    }

    > main:not(.scrolling) > article > div {
      /* @include collapsing-row-border($engine_row_hover_width, #eee); */
      background: white;

      &:hover {
        position: relative;
        z-index: 2;

        @include collapsing-row-border($engine_row_outline_width, $engine_row_outline_color);
      }
    }
  }

  #{$engine_multi_selector} {
    > header,
    > main {
      display: grid;
    }
  }
}
