@import "./vars";

#{$engine_selector} {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  align-content: stretch;

  > header {
    flex: 0 0 auto;
    overflow-x: hidden;
  }

  > main {
    flex: 1 1 auto;
    overflow-y: auto;

    > article {
      &:not(.odd) > div:nth-child(even),
      &.odd > div:nth-child(odd),
      &:not(.odd) > div:nth-child(even) > *.frozen,
      &.odd > div:nth-child(odd) > *.frozen {
        background-color: $engine_even_color;
      }
    }
  }

  > header,
  > main {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: stretch;

    > article {
      flex: 0 0 auto;
    }
  }

  > header > article,
  > main > article > div {
    display: -ms-grid;
    display: grid;
    grid-auto-flow: column;
    -ms-grid-column-align: stretch;
    -ms-grid-row-align: stretch;
    align-items: stretch;
    justify-items: stretch;

    > * {
      overflow: hidden;
      text-overflow: ellipsis;

      &.frozen {
        background-color: white;
        z-index: 1;
      }
    }
  }

  > main:not(.scrolling) > article > div {
    /* fix: dirty overlapping of orange outline with neighboring rows */
    margin: $engine_hover_outline_width 0;

    &:hover {
      outline: $engine_hover_outline_color;
      z-index: 2;

      > *.frozen {
        outline: $engine_hover_outline_color;
        z-index: 2;
      }
    }
  }

  &:not(.ms-edge) > header > article,
  &:not(.ms-edge) > main > article > div {
    > .frozen { // frozen one
      position: sticky;
      left: 0;
    }
  }

  @import './animation';
}
